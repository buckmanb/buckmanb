"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[115],{2115:(k,h,s)=>{s.d(h,{W:()=>C});var e=s(3107),p=s(4460),g=s(9471),u=s(3904),f=s(2322),M=s(5329),b=s(7691),v=s(8915),_=s(7947),y=s(7178);let o=(()=>{class t{http=(0,e.WQX)(b.Qq);cloudName="beau-media";uploadPreset="blog-uploads";uploadUrl=`https://api.cloudinary.com/v1_1/${this.cloudName}/image/upload`;uploadImage(r){const a=new FormData;return a.append("file",r),a.append("upload_preset",this.uploadPreset),a.append("timestamp",Date.now().toString()),console.log(`Attempting to upload to Cloudinary: ${this.uploadUrl}`),console.log(`Using upload preset: ${this.uploadPreset}`),this.http.post(this.uploadUrl,a).pipe((0,_.T)(n=>(console.log("Cloudinary upload successful:",n),n)),(0,y.W)(this.handleError))}getTransformedUrl(r,a={}){let n="";return(a.width||a.height)&&(n+=a.width?`w_${a.width},`:"",n+=a.height?`h_${a.height},`:"",n+=a.crop?`c_${a.crop},`:"c_limit,"),n+=a.quality?`q_${a.quality},`:"q_auto,",n+="f_auto/",n.endsWith(",/")&&(n=n.replace(",/","/")),`https://res.cloudinary.com/${this.cloudName}/image/upload/${n}${r}`}handleError(r){let a="";return r.error instanceof ErrorEvent?(a=`Client error: ${r.error.message}`,console.error("Client-side error:",r.error.message)):(console.error(`Backend returned code ${r.status}, body:`,r.error),a=r.error?.error?.message?`Cloudinary error: ${r.error.error.message}`:400===r.status?"Bad request: Check your Cloudinary configuration (cloud name and upload preset)":401===r.status?"Unauthorized: Authentication failed":403===r.status?"Forbidden: You do not have permission to upload":404===r.status?"Not found: The specified cloud name or preset does not exist":`Server error: ${r.status} ${r.statusText}`),(0,v.$)(()=>new Error(a))}static \u0275fac=function(a){return new(a||t)};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c(t,x){if(1&t){const r=e.RV6();e.j41(0,"div",6),e.bIt("dragover",function(n){e.eBV(r);const l=e.XpG();return e.Njj(l.onDragOver(n))})("dragleave",function(){e.eBV(r);const n=e.XpG();return e.Njj(n.onDragLeave())})("drop",function(n){e.eBV(r);const l=e.XpG();return e.Njj(l.onDrop(n))}),e.j41(1,"mat-icon",7),e.EFF(2,"cloud_upload"),e.k0s(),e.j41(3,"p",8),e.EFF(4,"Drag and drop an image here or"),e.k0s(),e.j41(5,"button",9),e.bIt("click",function(){e.eBV(r);const n=e.sdS(8);return e.Njj(n.click())}),e.EFF(6," Choose File "),e.k0s(),e.j41(7,"input",10,0),e.bIt("change",function(n){e.eBV(r);const l=e.XpG();return e.Njj(l.onFileSelected(n))}),e.k0s(),e.j41(9,"p",11),e.EFF(10,"Maximum file size: 10MB"),e.k0s()()}}function i(t,x){if(1&t){const r=e.RV6();e.j41(0,"div",12)(1,"div",13),e.nrm(2,"img",14),e.j41(3,"button",15),e.bIt("click",function(){e.eBV(r);const n=e.XpG();return e.Njj(n.removeImage())}),e.j41(4,"mat-icon"),e.EFF(5,"delete"),e.k0s()()()()}if(2&t){const r=e.XpG();e.R7$(2),e.Y8G("src",r.imageUrl(),e.B4B)}}function d(t,x){if(1&t&&e.nrm(0,"mat-progress-bar",16),2&t){const r=e.XpG();e.Y8G("value",r.uploadProgress())}}function m(t,x){if(1&t&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&t){const r=e.XpG();e.R7$(),e.SpI(" ",r.errorMessage()," ")}}let C=(()=>{class t{cloudinaryService=(0,e.WQX)(o);maxFileSizeMB=10;initialImageUrl="";imageUploaded=new e.bkB;imageRemoved=new e.bkB;imageUrl=(0,e.vPA)("");uploadProgress=(0,e.vPA)(0);isDragging=(0,e.vPA)(!1);errorMessage=(0,e.vPA)("");imageData=(0,e.vPA)(null);ngOnInit(){this.initialImageUrl&&this.imageUrl.set(this.initialImageUrl)}onDragOver(r){r.preventDefault(),this.isDragging.set(!0)}onDragLeave(){this.isDragging.set(!1)}onDrop(r){r.preventDefault(),this.isDragging.set(!1),r.dataTransfer?.files&&r.dataTransfer.files.length&&this.handleFile(r.dataTransfer.files[0])}onFileSelected(r){const a=r.target.files[0];a&&this.handleFile(a)}handleFile(r){if(this.errorMessage.set(""),this.uploadProgress.set(0),!r.type.startsWith("image/"))return void this.errorMessage.set("Please select an image file");if(r.size>1024*this.maxFileSizeMB*1024)return void this.errorMessage.set(`File size exceeds ${this.maxFileSizeMB}MB limit`);const a=new FileReader;a.onload=l=>this.imageUrl.set(l.target?.result),a.readAsDataURL(r);const n=setInterval(()=>{this.uploadProgress()<90&&this.uploadProgress.update(l=>l+10)},200);this.cloudinaryService.uploadImage(r).subscribe({next:l=>{clearInterval(n),this.uploadProgress.set(100),this.imageUrl.set(l.secure_url),this.imageData.set(l),this.imageUploaded.emit(l)},error:l=>{clearInterval(n),this.uploadProgress.set(0),this.errorMessage.set("Upload failed: "+(l.message||"Unknown error")),console.error("Upload error:",l)}})}removeImage(){this.imageUrl.set(""),this.uploadProgress.set(0),this.imageData.set(null),this.imageRemoved.emit()}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-image-upload"]],inputs:{maxFileSizeMB:"maxFileSizeMB",initialImageUrl:"initialImageUrl"},outputs:{imageUploaded:"imageUploaded",imageRemoved:"imageRemoved"},decls:5,vars:8,consts:[["fileInput",""],[1,"image-upload-container"],["class","upload-area",3,"dragover","dragleave","drop",4,"ngIf"],["class","preview-area",4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"upload-area",3,"dragover","dragleave","drop"],[1,"upload-icon"],[1,"upload-text"],["mat-raised-button","","color","primary",3,"click"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"file-limit"],[1,"preview-area"],[1,"image-container"],["alt","Uploaded image",3,"src"],["mat-mini-fab","","color","warn",1,"remove-btn",3,"click"],["mode","determinate",3,"value"],[1,"error-message"]],template:function(a,n){1&a&&(e.j41(0,"div",1),e.DNE(1,c,11,0,"div",2)(2,i,6,1,"div",3)(3,d,1,1,"mat-progress-bar",4)(4,m,2,1,"div",5),e.k0s()),2&a&&(e.AVh("has-image",n.imageUrl())("dragging",n.isDragging()),e.R7$(),e.Y8G("ngIf",!n.imageUrl()),e.R7$(),e.Y8G("ngIf",n.imageUrl()),e.R7$(),e.Y8G("ngIf",n.uploadProgress()>0&&n.uploadProgress()<100),e.R7$(),e.Y8G("ngIf",n.errorMessage()))},dependencies:[p.MD,p.bT,g.Hl,g.$z,g.$0,u.m_,u.An,f.PO,f.HM,M.Hu],styles:[".image-upload-container[_ngcontent-%COMP%]{border:2px dashed var(--border-color);border-radius:8px;padding:1rem;transition:all .3s ease;background-color:var(--surface-color);min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative}.image-upload-container.has-image[_ngcontent-%COMP%]{border-style:solid}.image-upload-container.dragging[_ngcontent-%COMP%]{border-color:var(--primary-color);background-color:rgba(var(--primary-color-rgb),.05)}.upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;width:100%;padding:2rem;box-sizing:border-box}.upload-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:var(--primary-color)}.upload-text[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:var(--text-secondary)}.file-limit[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin-top:.5rem}.preview-area[_ngcontent-%COMP%]{width:100%}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;max-width:100%}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:4px;display:block;margin:0 auto}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;transform:scale(.8)}.error-message[_ngcontent-%COMP%]{color:var(--error-color);margin-top:.5rem;font-size:.9rem}"]})}return t})()},2322:(k,h,s)=>{s.d(h,{HM:()=>v,PO:()=>y});var e=s(3107),g=(s(4460),s(2902));function u(o,c){1&o&&e.nrm(0,"div",2)}const f=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let v=(()=>{class o{_elementRef=(0,e.WQX)(e.aKT);_ngZone=(0,e.WQX)(e.SKi);_changeDetectorRef=(0,e.WQX)(e.gRc);_renderer=(0,e.WQX)(e.sFG);_cleanupTransitionEnd;_animationMode=(0,e.WQX)(e.bc$,{optional:!0});constructor(){const i=(0,e.WQX)(f,{optional:!0});this._isNoopAnimation="NoopAnimations"===this._animationMode,i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;_defaultColor="primary";get value(){return this._value}set value(i){this._value=_(i||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=_(i||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new e.bkB;get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}_transitionendHandler=i=>{0===this.animationEnd.observers.length||!i.target||!i.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(d){return new(d||o)};static \u0275cmp=e.VBU({type:o,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(d,m){2&d&&(e.BMQ("aria-valuenow",m._isIndeterminate()?null:m.value)("mode",m.mode),e.HbH("mat-"+m.color),e.AVh("_mat-animation-noopable",m._isNoopAnimation)("mdc-linear-progress--animation-ready",!m._isNoopAnimation)("mdc-linear-progress--indeterminate",m._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",e.Udg],bufferValue:[2,"bufferValue","bufferValue",e.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(d,m){1&d&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,u,1,0,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"span",4),e.k0s()),2&d&&(e.R7$(),e.xc7("flex-basis",m._getBufferBarFlexBasis()),e.R7$(),e.vxM("buffer"===m.mode?2:-1),e.R7$(),e.xc7("transform",m._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return o})();function _(o,c=0,i=100){return Math.max(c,Math.min(i,o))}let y=(()=>{class o{static \u0275fac=function(d){return new(d||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[g.yE]})}return o})()}}]);