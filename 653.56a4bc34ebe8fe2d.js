"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[653],{6653:(h,d,n)=>{n.r(d),n.d(d,{AdminDashboardComponent:()=>p});var m=n(3014),t=n(3107),_=n(4460),i=n(4892),r=n(5329),c=n(9471),l=n(3904),g=n(7702),u=n(7043),E=n(4466),P=n(7082);let p=(()=>{class e{commentService=(0,t.WQX)(u.j);blogService=(0,t.WQX)(E.c);authService=(0,t.WQX)(P.u);totalPosts=(0,t.vPA)(0);totalUsers=(0,t.vPA)(0);pendingComments=(0,t.vPA)(0);flaggedComments=(0,t.vPA)(0);ngOnInit(){this.loadDashboardStats()}loadDashboardStats(){var a=this;return(0,m.A)(function*(){a.loadCommentStats();try{const o=yield a.blogService.getPostsCount();a.totalPosts.set(o);const s=yield a.authService.getAllUsers().then(C=>C.length);a.totalUsers.set(s)}catch(o){console.error("Error loading dashboard stats:",o)}})()}loadCommentStats(){var a=this;return(0,m.A)(function*(){try{const o=yield a.commentService.getPendingCommentsWithCount();a.pendingComments.set(o.count);const s=yield a.commentService.getFlaggedCommentsWithCount();a.flaggedComments.set(s.count)}catch(o){console.error("Error loading comment stats:",o)}})()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-admin-dashboard"]],decls:39,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-grid"],[1,"dashboard-card"],[1,"stats"],["mat-raised-button","","color","primary","routerLink","/admin/users"],["mat-raised-button","","color","primary","routerLink","/admin/posts"],["mat-raised-button","","color","primary","routerLink","/admin/moderation"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2,"Admin Dashboard"),t.k0s(),t.j41(3,"div",1)(4,"mat-card",2)(5,"mat-card-content")(6,"h2")(7,"mat-icon"),t.EFF(8,"people"),t.k0s(),t.EFF(9," Users"),t.k0s(),t.j41(10,"div",3)(11,"p"),t.EFF(12),t.k0s(),t.j41(13,"button",4),t.EFF(14," Manage Users "),t.k0s()()()(),t.j41(15,"mat-card",2)(16,"mat-card-content")(17,"h2")(18,"mat-icon"),t.EFF(19,"article"),t.k0s(),t.EFF(20," Posts"),t.k0s(),t.j41(21,"div",3)(22,"p"),t.EFF(23),t.k0s(),t.j41(24,"button",5),t.EFF(25," Manage Posts "),t.k0s()()()(),t.j41(26,"mat-card",2)(27,"mat-card-content")(28,"h2")(29,"mat-icon"),t.EFF(30,"comment"),t.k0s(),t.EFF(31," Comments"),t.k0s(),t.j41(32,"div",3)(33,"p"),t.EFF(34),t.k0s(),t.j41(35,"p"),t.EFF(36),t.k0s(),t.j41(37,"button",6),t.EFF(38," Moderate Comments "),t.k0s()()()()()()),2&o&&(t.R7$(12),t.SpI("Total Users: ",s.totalUsers(),""),t.R7$(11),t.SpI("Total Posts: ",s.totalPosts(),""),t.R7$(11),t.SpI("Pending: ",s.pendingComments(),""),t.R7$(2),t.SpI("Flagged: ",s.flaggedComments(),""))},dependencies:[_.MD,i.iI,i.Wk,r.Hu,r.RN,r.m2,c.Hl,c.$z,l.m_,l.An,g.w],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px}.dashboard-grid[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.dashboard-card[_ngcontent-%COMP%]{padding:16px;height:100%}.dashboard-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px}.dashboard-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.dashboard-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}"]})}return e})()}}]);